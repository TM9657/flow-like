---
interface Props {
  t: (key: string) => string;
}

const { t } = Astro.props;

const sources = [
  {
    title: t("bi.sources.databases"),
    desc: t("bi.sources.databases.desc"),
    icon: "database",
    color: "emerald",
    logos: ["PostgreSQL", "MySQL", "Snowflake", "Oracle"],
  },
  {
    title: t("bi.sources.files"),
    desc: t("bi.sources.files.desc"),
    icon: "folder",
    color: "blue",
    logos: ["SharePoint", "S3", "OneDrive", "Azure"],
  },
  {
    title: t("bi.sources.realtime"),
    desc: t("bi.sources.realtime.desc"),
    icon: "bolt",
    color: "violet",
    logos: ["MQTT", "Kafka", "OPC-UA", "WebSocket"],
  },
  {
    title: t("bi.sources.communication"),
    desc: t("bi.sources.communication.desc"),
    icon: "chat",
    color: "pink",
    logos: ["Teams", "Slack", "Email", "Tickets"],
  },
  {
    title: t("bi.sources.apis"),
    desc: t("bi.sources.apis.desc"),
    icon: "api",
    color: "amber",
    logos: ["REST", "GraphQL", "SOAP", "gRPC"],
  },
  {
    title: t("bi.sources.traces"),
    desc: t("bi.sources.traces.desc"),
    icon: "chart",
    color: "cyan",
    logos: ["Logs", "Traces", "Metrics", "Events"],
  },
];
---

<section class="relative py-32 overflow-hidden">
  <div class="absolute inset-0 bg-gradient-to-b from-muted/30 via-transparent to-transparent" />
  <div class="absolute top-0 left-0 right-0 h-px bg-border" />

  <div class="mx-auto max-w-7xl px-6 lg:px-8 relative">
    <div class="text-center mb-16">
      <p class="text-[11px] font-medium tracking-[0.3em] uppercase text-primary mb-4">
        {t("bi.sources.tagline")}
      </p>
      <h2 class="text-4xl sm:text-5xl font-bold tracking-tight mb-6">
        {t("bi.sources.headline")}
      </h2>
      <p class="text-xl text-muted-foreground max-w-2xl mx-auto">
        {t("bi.sources.description")}
      </p>
    </div>

    <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
      {sources.map((source) => (
        <div class={`
          group relative p-6 rounded-2xl border bg-card/80 backdrop-blur-sm
          hover:shadow-xl transition-all duration-300
          ${source.color === 'emerald' ? 'border-emerald-500/20 hover:border-emerald-500/40' : ''}
          ${source.color === 'blue' ? 'border-blue-500/20 hover:border-blue-500/40' : ''}
          ${source.color === 'violet' ? 'border-violet-500/20 hover:border-violet-500/40' : ''}
          ${source.color === 'pink' ? 'border-pink-500/20 hover:border-pink-500/40' : ''}
          ${source.color === 'amber' ? 'border-amber-500/20 hover:border-amber-500/40' : ''}
          ${source.color === 'cyan' ? 'border-cyan-500/20 hover:border-cyan-500/40' : ''}
        `}>
          <div class="flex items-start gap-4">
            <div class={`
              shrink-0 w-12 h-12 rounded-xl flex items-center justify-center transition-all duration-300
              ${source.color === 'emerald' ? 'bg-emerald-500/10 text-emerald-600 group-hover:bg-emerald-500/20 group-hover:scale-110' : ''}
              ${source.color === 'blue' ? 'bg-blue-500/10 text-blue-600 group-hover:bg-blue-500/20 group-hover:scale-110' : ''}
              ${source.color === 'violet' ? 'bg-violet-500/10 text-violet-600 group-hover:bg-violet-500/20 group-hover:scale-110' : ''}
              ${source.color === 'pink' ? 'bg-pink-500/10 text-pink-600 group-hover:bg-pink-500/20 group-hover:scale-110' : ''}
              ${source.color === 'amber' ? 'bg-amber-500/10 text-amber-600 group-hover:bg-amber-500/20 group-hover:scale-110' : ''}
              ${source.color === 'cyan' ? 'bg-cyan-500/10 text-cyan-600 group-hover:bg-cyan-500/20 group-hover:scale-110' : ''}
            `}>
              {source.icon === "database" && (
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4" />
                </svg>
              )}
              {source.icon === "folder" && (
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z" />
                </svg>
              )}
              {source.icon === "bolt" && (
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M13 10V3L4 14h7v7l9-11h-7z" />
                </svg>
              )}
              {source.icon === "chat" && (
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z" />
                </svg>
              )}
              {source.icon === "api" && (
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" />
                </svg>
              )}
              {source.icon === "chart" && (
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
                </svg>
              )}
            </div>
            <div class="flex-1 min-w-0">
              <h3 class="text-lg font-semibold mb-1">{source.title}</h3>
              <p class="text-sm text-muted-foreground mb-3 leading-relaxed">{source.desc}</p>
              <div class="flex flex-wrap gap-1.5">
                {source.logos.map((logo) => (
                  <span class={`
                    px-2 py-0.5 text-[10px] font-medium rounded-full
                    ${source.color === 'emerald' ? 'bg-emerald-500/10 text-emerald-600' : ''}
                    ${source.color === 'blue' ? 'bg-blue-500/10 text-blue-600' : ''}
                    ${source.color === 'violet' ? 'bg-violet-500/10 text-violet-600' : ''}
                    ${source.color === 'pink' ? 'bg-pink-500/10 text-pink-600' : ''}
                    ${source.color === 'amber' ? 'bg-amber-500/10 text-amber-600' : ''}
                    ${source.color === 'cyan' ? 'bg-cyan-500/10 text-cyan-600' : ''}
                  `}>
                    {logo}
                  </span>
                ))}
              </div>
            </div>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>
