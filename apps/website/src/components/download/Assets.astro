---
import { LuExternalLink, LuCheck } from "react-icons/lu";

interface Props {
  t: (key: string) => string;
  ownerRepo: string;
}

const { t, ownerRepo } = Astro.props;
---

<div class="lg:col-span-8">
   <div class="flex items-center justify-between mb-6">
      <h3 class="text-xl font-bold tracking-tight">{t("download.assets.title")}</h3>
      <div class="flex items-center gap-4 text-xs">
          <span id="detected-os" class="text-zinc-400 font-mono uppercase hidden md:block">{t("download.assets.detecting")}</span>
          <a
              href={`https://github.com/${ownerRepo}/releases`}
              class="font-mono uppercase tracking-wider text-zinc-500 hover:text-zinc-900 flex items-center gap-1 transition-colors"
              rel="noopener"
              target="_blank"
          >
              {t("download.assets.github")} <LuExternalLink />
          </a>
      </div>
   </div>

   <div id="asset-list" class="space-y-8">
      <!-- Skeleton -->
      <div class="space-y-3">
          <div class="h-20 bg-zinc-50 border border-zinc-100 animate-pulse rounded-sm"></div>
          <div class="h-20 bg-zinc-50 border border-zinc-100 animate-pulse rounded-sm delay-75"></div>
          <div class="h-20 bg-zinc-50 border border-zinc-100 animate-pulse rounded-sm delay-150"></div>
      </div>
   </div>

   <!-- Checksum -->
   <div id="checksum-wrap" class="hidden mt-8 pt-6 border-t border-zinc-100 items-center justify-between text-xs font-mono text-zinc-500">
      <div class="flex items-center gap-2">
         <LuCheck className="text-emerald-600" />
         <span>{t("download.checksum.verified")}</span>
      </div>
      <a id="checksum-link" href="#" target="_blank" class="underline hover:text-zinc-900 decoration-zinc-300 underline-offset-4">{t("download.checksum.view")}</a>
   </div>
</div>
