---
/**
 * AI Agents: Neural network with synaptic pulses and agent nodes
 */
interface Props { ring: string; dot: string; node: string; line: string; }
const { ring, dot, node, line } = Astro.props;
---

<svg viewBox="0 0 400 400" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-full max-w-md">
  <defs>
    <radialGradient id="ai-brain" cx="50%" cy="50%" r="50%">
      <stop offset="0%" stop-color={dot} stop-opacity="0.12"/>
      <stop offset="100%" stop-color={dot} stop-opacity="0"/>
    </radialGradient>
    <filter id="ai-glow">
      <feGaussianBlur stdDeviation="2" result="blur"/>
      <feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
  </defs>

  <!-- Central brain glow -->
  <circle cx="200" cy="180" r="80" fill="url(#ai-brain)"/>

  <!-- Neural network layer 1 (input) -->
  <circle cx="60" cy="100" r="10" fill={node} opacity="0.06" stroke={ring} stroke-width="0.8" opacity="0.25"/>
  <circle cx="60" cy="100" r="3" fill={dot} opacity="0.5"><animate attributeName="opacity" values="0.3;0.8;0.3" dur="2s" repeatCount="indefinite"/></circle>

  <circle cx="60" cy="180" r="10" fill={node} opacity="0.06" stroke={ring} stroke-width="0.8" opacity="0.25"/>
  <circle cx="60" cy="180" r="3" fill={dot} opacity="0.5"><animate attributeName="opacity" values="0.4;0.9;0.4" dur="2.5s" repeatCount="indefinite"/></circle>

  <circle cx="60" cy="260" r="10" fill={node} opacity="0.06" stroke={ring} stroke-width="0.8" opacity="0.25"/>
  <circle cx="60" cy="260" r="3" fill={dot} opacity="0.5"><animate attributeName="opacity" values="0.2;0.7;0.2" dur="3s" repeatCount="indefinite"/></circle>

  <!-- Neural network layer 2 (hidden) -->
  <circle cx="160" cy="120" r="14" fill={node} opacity="0.06" stroke={ring} stroke-width="0.8" opacity="0.3"/>
  <circle cx="160" cy="120" r="5" fill={dot} opacity="0.4"><animate attributeName="opacity" values="0.2;0.6;0.2" dur="1.5s" repeatCount="indefinite"/></circle>

  <circle cx="160" cy="200" r="14" fill={node} opacity="0.06" stroke={ring} stroke-width="0.8" opacity="0.3"/>
  <circle cx="160" cy="200" r="5" fill={dot} opacity="0.4"><animate attributeName="opacity" values="0.3;0.7;0.3" dur="1.8s" repeatCount="indefinite"/></circle>

  <circle cx="160" cy="280" r="14" fill={node} opacity="0.06" stroke={ring} stroke-width="0.8" opacity="0.3"/>
  <circle cx="160" cy="280" r="5" fill={dot} opacity="0.4"><animate attributeName="opacity" values="0.25;0.65;0.25" dur="2.2s" repeatCount="indefinite"/></circle>

  <!-- Layer 3 (hidden 2) -->
  <circle cx="260" cy="140" r="14" fill={node} opacity="0.06" stroke={ring} stroke-width="0.8" opacity="0.3"/>
  <circle cx="260" cy="140" r="5" fill={dot} opacity="0.4"><animate attributeName="opacity" values="0.3;0.7;0.3" dur="2s" repeatCount="indefinite"/></circle>
  <text x="260" y="143" text-anchor="middle" fill={dot} font-size="6" opacity="0.4">LLM</text>

  <circle cx="260" cy="220" r="14" fill={node} opacity="0.06" stroke={ring} stroke-width="0.8" opacity="0.3"/>
  <circle cx="260" cy="220" r="5" fill={dot} opacity="0.4"><animate attributeName="opacity" values="0.2;0.6;0.2" dur="1.6s" repeatCount="indefinite"/></circle>
  <text x="260" y="223" text-anchor="middle" fill={dot} font-size="6" opacity="0.4">RAG</text>

  <!-- Output layer -->
  <circle cx="350" cy="180" r="16" fill={node} opacity="0.08" stroke={ring} stroke-width="1" opacity="0.35"/>
  <circle cx="350" cy="180" r="6" fill={dot} opacity="0.6">
    <animate attributeName="r" values="6;8;6" dur="2.5s" repeatCount="indefinite"/>
    <animate attributeName="opacity" values="0.4;0.8;0.4" dur="2.5s" repeatCount="indefinite"/>
  </circle>

  <!-- Connections: input → hidden1 -->
  <line x1="70" y1="100" x2="146" y2="120" stroke={line} stroke-width="0.5" opacity="0.12"/>
  <line x1="70" y1="100" x2="146" y2="200" stroke={line} stroke-width="0.4" opacity="0.08"/>
  <line x1="70" y1="180" x2="146" y2="120" stroke={line} stroke-width="0.4" opacity="0.08"/>
  <line x1="70" y1="180" x2="146" y2="200" stroke={line} stroke-width="0.5" opacity="0.12"/>
  <line x1="70" y1="180" x2="146" y2="280" stroke={line} stroke-width="0.4" opacity="0.08"/>
  <line x1="70" y1="260" x2="146" y2="200" stroke={line} stroke-width="0.4" opacity="0.08"/>
  <line x1="70" y1="260" x2="146" y2="280" stroke={line} stroke-width="0.5" opacity="0.12"/>

  <!-- Connections: hidden1 → hidden2 -->
  <line x1="174" y1="120" x2="246" y2="140" stroke={line} stroke-width="0.5" opacity="0.12"/>
  <line x1="174" y1="120" x2="246" y2="220" stroke={line} stroke-width="0.4" opacity="0.08"/>
  <line x1="174" y1="200" x2="246" y2="140" stroke={line} stroke-width="0.4" opacity="0.08"/>
  <line x1="174" y1="200" x2="246" y2="220" stroke={line} stroke-width="0.5" opacity="0.12"/>
  <line x1="174" y1="280" x2="246" y2="140" stroke={line} stroke-width="0.3" opacity="0.06"/>
  <line x1="174" y1="280" x2="246" y2="220" stroke={line} stroke-width="0.4" opacity="0.08"/>

  <!-- Connections: hidden2 → output -->
  <line x1="274" y1="140" x2="334" y2="180" stroke={line} stroke-width="0.5" opacity="0.15"/>
  <line x1="274" y1="220" x2="334" y2="180" stroke={line} stroke-width="0.5" opacity="0.15"/>

  <!-- Synaptic pulse animations along connections -->
  <circle r="2" fill={dot} opacity="0.8" filter="url(#ai-glow)">
    <animateMotion dur="1.5s" repeatCount="indefinite" path="M 70,100 L 146,120"/>
  </circle>
  <circle r="2" fill={dot} opacity="0.7" filter="url(#ai-glow)">
    <animateMotion dur="1.8s" repeatCount="indefinite" path="M 70,180 L 146,200" begin="0.2s"/>
  </circle>
  <circle r="2" fill={dot} opacity="0.6" filter="url(#ai-glow)">
    <animateMotion dur="2s" repeatCount="indefinite" path="M 70,260 L 146,280" begin="0.4s"/>
  </circle>
  <circle r="2" fill={dot} opacity="0.8" filter="url(#ai-glow)">
    <animateMotion dur="1.5s" repeatCount="indefinite" path="M 174,120 L 246,140" begin="0.8s"/>
  </circle>
  <circle r="2" fill={dot} opacity="0.7" filter="url(#ai-glow)">
    <animateMotion dur="1.6s" repeatCount="indefinite" path="M 174,200 L 246,220" begin="1s"/>
  </circle>
  <circle r="2.5" fill={dot} opacity="0.9" filter="url(#ai-glow)">
    <animateMotion dur="1.2s" repeatCount="indefinite" path="M 274,140 L 334,180" begin="1.5s"/>
  </circle>
  <circle r="2.5" fill={dot} opacity="0.8" filter="url(#ai-glow)">
    <animateMotion dur="1.3s" repeatCount="indefinite" path="M 274,220 L 334,180" begin="1.7s"/>
  </circle>

  <!-- Tool nodes hanging off hidden layer 2 -->
  <line x1="260" y1="155" x2="310" y2="80" stroke={line} stroke-width="0.4" opacity="0.1" stroke-dasharray="3 3"/>
  <rect x="295" y="60" width="40" height="24" rx="6" fill={node} opacity="0.04" stroke={ring} stroke-width="0.5" opacity="0.2"/>
  <text x="315" y="75" text-anchor="middle" fill={dot} font-size="6" opacity="0.4" font-family="monospace">Tool</text>

  <line x1="260" y1="235" x2="310" y2="310" stroke={line} stroke-width="0.4" opacity="0.1" stroke-dasharray="3 3"/>
  <rect x="295" y="300" width="50" height="24" rx="6" fill={node} opacity="0.04" stroke={ring} stroke-width="0.5" opacity="0.2"/>
  <text x="320" y="315" text-anchor="middle" fill={dot} font-size="6" opacity="0.4" font-family="monospace">Vector DB</text>

  <!-- Labels -->
  <text x="60" y="55" text-anchor="middle" fill={dot} font-size="7" opacity="0.3" font-family="monospace">Input</text>
  <text x="350" y="155" text-anchor="middle" fill={dot} font-size="7" opacity="0.3" font-family="monospace">Output</text>

  <!-- Ambient sparkles -->
  <circle cx="30" cy="40" r="1.5" fill={dot}><animate attributeName="opacity" values="0.1;0.4;0.1" dur="4s" repeatCount="indefinite"/></circle>
  <circle cx="380" cy="340" r="1.5" fill={dot}><animate attributeName="opacity" values="0.1;0.35;0.1" dur="5s" repeatCount="indefinite"/></circle>
  <circle cx="200" cy="365" r="2" fill={dot}><animate attributeName="opacity" values="0.05;0.25;0.05" dur="6s" repeatCount="indefinite"/></circle>
  <circle cx="130" cy="50" r="1" fill={dot}><animate attributeName="opacity" values="0.1;0.3;0.1" dur="3.5s" repeatCount="indefinite"/></circle>
</svg>
