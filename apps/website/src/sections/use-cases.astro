---
import {
  LuFactory,
  LuChartLine,
  LuBriefcase,
  LuBot,
  LuShield,
  LuArrowRight,
} from "react-icons/lu";
import type { Lang, TranslationKey } from "../i18n";
import { translations, defaultLang } from "../i18n";

interface Props {
  lang?: Lang;
}

const { lang = defaultLang } = Astro.props;
const t = (key: TranslationKey): string => {
  const langTranslations = translations[lang] as Record<string, string>;
  const enTranslations = translations.en as Record<string, string>;
  return langTranslations?.[key] ?? enTranslations[key] ?? key;
};

const useCases = [
  {
    icon: LuFactory,
    title: t("usecases.shopfloor"),
    description: t("usecases.shopfloor.desc"),
    color: "text-orange-600",
  },
  {
    icon: LuChartLine,
    title: t("usecases.finance"),
    description: t("usecases.finance.desc"),
    color: "text-emerald-600",
  },
  {
    icon: LuBriefcase,
    title: t("usecases.office"),
    description: t("usecases.office.desc"),
    color: "text-blue-600",
  },
  {
    icon: LuBot,
    title: t("usecases.ai"),
    description: t("usecases.ai.desc"),
    color: "text-violet-600",
  },
  {
    icon: LuShield,
    title: t("usecases.gov"),
    description: t("usecases.gov.desc"),
    color: "text-red-600",
  },
];
---

<!-- Sharp tilted white section that overlays into previous dark section -->
<section class="relative -mt-20 pt-32 pb-24">
  <!-- White background with sharp tilted top edge -->
  <div
    class="absolute inset-0 bg-[#fafafa]"
    style="clip-path: polygon(0 60px, 100% 0, 100% 100%, 0 100%);"
  ></div>

  <!-- Content -->
  <div class="relative z-10 mx-auto max-w-6xl px-6 lg:px-8 pt-8">
    <!-- Minimal header -->
    <div class="mb-20">
      <p class="text-[11px] font-medium tracking-[0.3em] uppercase text-neutral-400 mb-4">
        {t("usecases.tagline")}
      </p>
      <h2 class="text-4xl sm:text-5xl font-semibold tracking-tight text-neutral-900 leading-[1.1] max-w-lg">
        {t("usecases.headline")}
      </h2>
    </div>

    <!-- Minimal use case grid -->
    <div class="grid sm:grid-cols-2 lg:grid-cols-5 gap-px bg-neutral-200">
      {useCases.map((useCase) => (
        <a
          href="#"
          class="group bg-[#fafafa] p-8 hover:bg-white transition-colors"
        >
          <useCase.icon className={`w-5 h-5 ${useCase.color} mb-6`} />
          <h3 class="text-lg font-medium text-neutral-900 mb-2">
            {useCase.title}
          </h3>
          <p class="text-sm text-neutral-500 leading-relaxed mb-6">
            {useCase.description}
          </p>
          <span class="inline-flex items-center gap-1.5 text-xs font-medium text-neutral-400 group-hover:text-neutral-900 transition-colors">
            {t("usecases.learnmore")}
            <LuArrowRight className="w-3 h-3 group-hover:translate-x-0.5 transition-transform" />
          </span>
        </a>
      ))}
    </div>
  </div>
</section>
