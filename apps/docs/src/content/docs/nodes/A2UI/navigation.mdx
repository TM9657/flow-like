---
title: Navigation Nodes
description: Control page navigation from workflows
---

import { Aside } from '@astrojs/starlight/components';

# Navigation Nodes

Navigation nodes allow workflows to control routing within A2UI applications.

---

## Navigate To

Navigates to a specified route within the application.

### Inputs

| Pin | Type | Description |
|-----|------|-------------|
| ▶ Exec In | Execution | Triggers navigation |
| Route | String | Target route path (e.g., `/dashboard`, `/users/123`) |
| Replace | Boolean | If `true`, replaces current history entry; if `false`, pushes new entry |

### Outputs

| Pin | Type | Description |
|-----|------|-------------|
| ▶ Exec Out | Execution | Continues after navigation |

### Push vs Replace

| Mode | History Effect | Back Button |
|------|----------------|-------------|
| Push (default) | Adds new entry | Returns to previous page |
| Replace | Replaces current entry | Returns to page before current |

**Use Push for:**
- Normal navigation between pages
- Opening detail views
- Multi-step workflows

**Use Replace for:**
- Redirects after form submission
- Login redirects
- Correcting URLs

### Example Routes

```
/                     # Home page
/dashboard            # Dashboard
/users                # User list
/users/123            # User detail (dynamic)
/settings/profile     # Nested route
```

<Aside type="tip">
Routes must be defined in your A2UI application's route configuration before they can be navigated to.
</Aside>

---

## Get Current Route

Retrieves the current page's route path.

### Inputs

None - reads from workflow payload.

### Outputs

| Pin | Type | Description |
|-----|------|-------------|
| Route | String | Current route path (e.g., `/dashboard`) |

### Usage

The route is automatically included in the workflow payload as `_route`, so this node simply extracts it.

---

## Get Route Params

Retrieves dynamic parameters from the current route.

### Inputs

| Pin | Type | Description |
|-----|------|-------------|
| Param Name | String | Name of the parameter to retrieve |

### Outputs

| Pin | Type | Description |
|-----|------|-------------|
| Value | String | Parameter value |
| Has Param | Boolean | Whether the parameter exists |
| All Params | JSON | All route parameters as object |

### Example

For route pattern `/users/:userId/posts/:postId` with URL `/users/42/posts/7`:

**Input:** `Param Name = "userId"`

**Output:**
```json
{
  "value": "42",
  "has_param": true,
  "all_params": { "userId": "42", "postId": "7" }
}
```

---

## Common Patterns

### Conditional Navigation

Navigate based on user action:
```
[Get Select Value: "destination"]
   → [Branch: value]
      ├─ "dashboard": [Navigate To: "/dashboard"]
      ├─ "settings": [Navigate To: "/settings"]
      └─ default: [Navigate To: "/"]
```

### Post-Submit Redirect

Navigate after form submission:
```
[Submit Form] → [Navigate To: "/success" (replace: true)]
```

Using replace prevents users from going "back" to the form.

### Dynamic Detail View

Navigate to item detail:
```
[Get Element Value: "selected-item"]
   → [Format String: "/items/{value}"]
   → [Navigate To: formatted_route]
```

### Breadcrumb Navigation

Build breadcrumbs from route:
```
[Get Current Route]
   → [Split: "/"]
   → [Loop: segments]
      → [Create Element: breadcrumb-{index}]
```

### Protected Routes

Check auth before allowing navigation:
```
[Get Global State: "isAuthenticated"]
   → [Branch]
      ├─ True: [Navigate To: target_route]
      └─ False: [Navigate To: "/login"]
```

---

## Route Parameters in Workflow Payload

When a workflow is triggered, route information is automatically included:

```json
{
  "_route": "/users/42/profile",
  "_route_params": {
    "userId": "42"
  },
  "_page_id": "/users/42/profile"
}
```

This allows workflows to be context-aware without additional queries.
