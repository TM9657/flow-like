---
title: Dynamic Element Nodes
description: Create, clone, and remove elements dynamically
---

import { Aside, Tabs, TabItem } from '@astrojs/starlight/components';

# Dynamic Element Nodes

These nodes allow you to create, clone, and remove elements at runtime, enabling dynamic UIs that respond to user actions and data.

---

## Create Element

Creates a new element and adds it to a parent container.

### Inputs

| Pin | Type | Description |
|-----|------|-------------|
| ▶ Exec In | Execution | Triggers creation |
| Surface ID | String | The surface containing the parent |
| Parent ID | String | ID of the container to add to |
| Element ID | String | Unique ID for the new element |
| Type | String | Component type (e.g., "Text", "Button") |
| Props | JSON | Component properties |
| Index | Integer | Position in parent (-1 for end) |

### Outputs

| Pin | Type | Description |
|-----|------|-------------|
| ▶ Exec Out | Execution | Continues after creation |
| Created ID | String | Full reference to created element |

### Example: Creating a Button

**Props input:**
```json
{
  "label": "New Button",
  "variant": "primary",
  "size": "md"
}
```

**Result:** A new button appears in the specified container.

### Supported Component Types

| Type | Description |
|------|-------------|
| `Text` | Text display |
| `Button` | Clickable button |
| `TextField` | Text input |
| `Select` | Dropdown select |
| `Checkbox` | Checkbox input |
| `Switch` | Toggle switch |
| `Image` | Image display |
| `Container` | Generic container |
| `Row` | Horizontal layout |
| `Column` | Vertical layout |
| `Card` | Card container |
| `Divider` | Visual divider |
| `Spacer` | Space element |

<Aside type="tip">
Created elements can have actions attached via the `actions` property in props. These can trigger workflows just like statically defined elements.
</Aside>

---

## Remove Element

Removes an element from the page.

### Inputs

| Pin | Type | Description |
|-----|------|-------------|
| ▶ Exec In | Execution | Triggers removal |
| Surface ID | String | The surface containing the element |
| Element ID | String | ID of the element to remove |

### Outputs

| Pin | Type | Description |
|-----|------|-------------|
| ▶ Exec Out | Execution | Continues after removal |

<Aside type="caution">
Removing a container also removes all its children. Be careful when removing parent elements.
</Aside>

---

## Clone Element

Creates a copy of an existing element with a new ID.

### Inputs

| Pin | Type | Description |
|-----|------|-------------|
| ▶ Exec In | Execution | Triggers cloning |
| Source Element | String | Reference to element to clone (format: `surfaceId/elementId`) |
| New Element ID | String | ID for the cloned element |
| Parent ID | String | Container for clone (empty = same as source) |
| Index | Integer | Position in parent (-1 for end) |

### Outputs

| Pin | Type | Description |
|-----|------|-------------|
| ▶ Exec Out | Execution | Continues after cloning |
| Cloned Element | String | Reference to the new element |

### What Gets Cloned

- Component type
- All component properties
- Style properties

### What Does NOT Get Cloned

- Element ID (you provide a new one)
- Children (for containers)
- Event bindings must be set up separately

---

## Common Patterns

### Dynamic List Pattern

Add items to a list based on data:

```
[Loop: items] → [Create Element]
                   ├─ Type: "Text"
                   ├─ Parent: "item-list"
                   ├─ Element ID: "item-{index}"
                   └─ Props: { "content": "{item.name}" }
```

### Template Cloning Pattern

Clone a template element for each data item:

```
[Loop: data] → [Clone Element]
                  ├─ Source: "template-card"
                  ├─ New ID: "card-{index}"
                  └─ Parent: "cards-container"
              → [Set Element Text: "card-{index}/title" = item.title]
```

### Conditional Element Creation

Create elements based on conditions:

```
[Branch: hasPermission]
   ├─ True: [Create Element: "admin-button"]
   └─ False: [Continue]
```

### Cleanup Pattern

Remove dynamically created elements:

```
[Query Elements by ID: "dynamic-*"]
   → [Loop: results]
      → [Remove Element]
```

---

## Best Practices

1. **Use unique IDs** - Ensure each created element has a unique ID to avoid conflicts
2. **Clean up** - Remove elements when they're no longer needed to prevent memory leaks
3. **Use templates** - Clone elements instead of creating from scratch for consistency
4. **Batch operations** - Create multiple elements in sequence for better performance
5. **Consider hierarchy** - Plan your container structure before creating dynamic elements
