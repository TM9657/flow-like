[package]
name = "flow-like-catalog"
version = "0.1.0"
edition = "2024"

[features]
default = []
local-ml = [
    "flow-like-catalog-core/local-ml",
    "flow-like-catalog-std/local-ml",
    "flow-like-catalog-data/local-ml",
    "flow-like-catalog-web/local-ml",
    "flow-like-catalog-media/local-ml",
    "flow-like-catalog-ml/local-ml",
    "flow-like-catalog-onnx/local-ml",
    "flow-like-catalog-llm/local-ml",
    "flow-like-catalog-processing/local-ml",
]
mimalloc = ["dep:mimalloc"]

[dependencies]
flow-like-catalog-core.workspace = true
flow-like-catalog-std.workspace = true
flow-like-catalog-data.workspace = true
flow-like-catalog-web.workspace = true
flow-like-catalog-media.workspace = true
flow-like-catalog-ml.workspace = true
flow-like-catalog-onnx.workspace = true
flow-like-catalog-llm.workspace = true
flow-like-catalog-processing.workspace = true
mimalloc = { workspace = true, optional = true }

[dev-dependencies]
criterion = { version = "0.7", features = ["html_reports", "async_tokio"] }
flow-like.workspace = true
flow-like-types.workspace = true
flow-like-storage.workspace = true

[[bench]]
name = "flow_bench"
harness = false

[[bench]]
name = "throughput_bench"
harness = false

[[bench]]
name = "allocator_bench"
harness = false

[profile.bench]
opt-level = 3
lto = "thin"
codegen-units = 1
debug = false
