[package]
name = "flow-like-catalog-web"
version = "0.1.0"
edition = "2024"

[features]
default = []
local-ml = ["flow-like-catalog-core/local-ml"]
# Execution feature - enables heavy dependencies for node execution
execute = [
    "flow-like-catalog-core/execute",
    "dep:htmd",
    "dep:scraper",
    "dep:async-imap",
    "dep:tokio-rustls",
    "dep:rustls-pki-types",
    "dep:webpki-roots",
    "dep:async-smtp",
    "dep:mail-parser",
    "dep:icalendar",
    "dep:serenity",
    "dep:teloxide",
]

[dependencies]
flow-like-catalog-core.workspace = true
flow-like.workspace = true
flow-like-types.workspace = true
flow-like-model-provider.workspace = true
flow-like-storage.workspace = true
flow-like-catalog-macros.workspace = true
inventory = "0.3"
ahash.workspace = true
tracing.workspace = true
schemars.workspace = true
futures.workspace = true
serde = { workspace = true, features = ["derive", "rc"] }
tokio = { workspace = true, features = ["rt-multi-thread", "macros"] }
uuid.workspace = true
async-trait.workspace = true
chrono.workspace = true
chrono-tz.workspace = true
regex.workspace = true
base64.workspace = true
urlencoding.workspace = true

# Web/scraping/email dependencies - only included when execute feature is enabled
htmd = { version = "0.3.0", optional = true }
scraper = { version = "0.23.1", optional = true }
async-imap = { version = "0.11.1", default-features = false, features = ["runtime-tokio", "tokio"], optional = true }
tokio-rustls = { version = "0.26", default-features = false, features = ["ring"], optional = true }
rustls-pki-types = { version = "1", optional = true }
webpki-roots = { version = "0.26", optional = true }
async-smtp = { version = "0.10.2", default-features = false, features = ["runtime-tokio", "tokio"], optional = true }
mail-parser = { version = "0.11.0", optional = true }
icalendar = { workspace = true, optional = true }

# Discord/Telegram bot integrations - only included when execute feature is enabled
serenity = { version = "0.12.4", default-features = false, features = ["client", "gateway", "model", "rustls_backend", "cache"], optional = true }
teloxide = { version = "0.17", default-features = false, features = ["macros", "rustls", "ctrlc_handler"], optional = true }
